
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="This wiki contains information and other resources to aid with modding Risk of Rain 2.">
      
      
        <meta name="author" content="Risk of Rain 2 Modding Community">
      
      
        <link rel="canonical" href="https://risk-of-thunder.github.io/R2Wiki/Mod-Creation/Assets/Stage/">
      
      
        <link rel="prev" href="../Skills/">
      
      
        <link rel="next" href="../Translation/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>Stages - Risk of Rain 2 Modding Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stages" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Risk of Rain 2 Modding Wiki" class="md-header__button md-logo" aria-label="Risk of Rain 2 Modding Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Risk of Rain 2 Modding Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Stages
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/risk-of-thunder/R2Wiki/wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    risk-of-thunder/R2Wiki
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Risk of Rain 2 Modding Wiki" class="md-nav__button md-logo" aria-label="Risk of Rain 2 Modding Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Risk of Rain 2 Modding Wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/risk-of-thunder/R2Wiki/wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    risk-of-thunder/R2Wiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome to the Risk of Rain 2 Modding Wiki!
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Mod Creation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Mod Creation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Getting-Started/First-Mod/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    First Mod
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Getting-Started/So-you-want-to-mod-Risk-of-Rain-2%3F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    So you want to mod Risk of Rain 2?
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    IDE
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            IDE
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/Visual-Studio-Code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visual Studio Code
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Visual Studio
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            Visual Studio
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/Visual-Studio/Post-Build-Events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Post Build Events
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    C# Programming
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            C# Programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Assembly-References/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assembly References
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Code-Analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Console-Commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Console Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Debugging-Your-Mods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Debugging Your Mods
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Hooking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hooking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Hot-Reloading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hot Reloading
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/IContentPackProvider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IContentPackProvider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/IL-Hooking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IL Hooking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Mod-Compatibility%3A-Soft-Dependency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mod Compatibility: Soft Dependency
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Reflection-Crash-Course/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reflection Crash Course
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Unity-and-MonoBehaviour/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unity and MonoBehaviour
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_13" >
        
          
          <label class="md-nav__link" for="__nav_2_3_13" id="__nav_2_3_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Game Code
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_13">
            <span class="md-nav__icon md-icon"></span>
            Game Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Game-Code/Common-Components%2C-Events-and-Methods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Common Components, Events and Methods
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Game-Code/Tips-and-Tricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tips and Tricks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_14" >
        
          
          <label class="md-nav__link" for="__nav_2_3_14" id="__nav_2_3_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Networking
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_14">
            <span class="md-nav__icon md-icon"></span>
            Networking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Networking/MiniRpcLib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MiniRpcLib
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Networking/R2API.NetworkingAPI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    R2API.NetworkingAPI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Networking/Server-side-and-client-side-mods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Server side and client side mods
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%23-Programming/Networking/UNet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UNet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Testing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Testing/Testing-Multiplayer-Alone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing Multiplayer Alone
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Cookbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cookbook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Developer Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Developer Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Developer-Reference/Addressables-Assets-Keys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Addressables Assets Keys
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Developer-Reference/Items-and-Equipments-Data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Items and Equipments Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Developer-Reference/Layers-and-collisions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Layers and collisions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Developer-Reference/Prefabs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prefabs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Developer-Reference/Scene-Names/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scene Names
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Developer-Reference/Sound-%E2%80%90-Wwise-Events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sound - Wwise Events
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Developer-Reference/Style-Reference-Sheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Style Reference Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" checked>
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assets
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Assets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Artifacts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Artifacts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Character/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Character
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Difficulty/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Difficulty
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Elites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating an Elite
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extraction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Icons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Icons
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Interactables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interactables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Items/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Items
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Loading-Assets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loading Assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Localization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Localization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Merging-Materials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Merging Materials
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Skills
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Stages
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Stages
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#warning" class="md-nav__link">
    <span class="md-ellipsis">
      !!! WARNING !!!
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-terminology" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Terminology
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools-and-references" class="md-nav__link">
    <span class="md-ellipsis">
      Tools and References
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tools and References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modding-editor-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Modding / Editor tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runtime-debug-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Runtime / Debug Tools
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-your-stage" class="md-nav__link">
    <span class="md-ellipsis">
      Starting your Stage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Starting your Stage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenedef" class="md-nav__link">
    <span class="md-ellipsis">
      SceneDef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SceneDef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classification" class="md-nav__link">
    <span class="md-ellipsis">
      Classification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-facing-name" class="md-nav__link">
    <span class="md-ellipsis">
      User-Facing Name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bazaar" class="md-nav__link">
    <span class="md-ellipsis">
      Bazaar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logbook" class="md-nav__link">
    <span class="md-ellipsis">
      Logbook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#music" class="md-nav__link">
    <span class="md-ellipsis">
      Music
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#color" class="md-nav__link">
    <span class="md-ellipsis">
      Color
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#artifact" class="md-nav__link">
    <span class="md-ellipsis">
      Artifact
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destinations" class="md-nav__link">
    <span class="md-ellipsis">
      Destinations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#portal-appearance" class="md-nav__link">
    <span class="md-ellipsis">
      Portal Appearance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scene" class="md-nav__link">
    <span class="md-ellipsis">
      Scene
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scene">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sceneinfo" class="md-nav__link">
    <span class="md-ellipsis">
      SceneInfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#director" class="md-nav__link">
    <span class="md-ellipsis">
      Director
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gamemanager" class="md-nav__link">
    <span class="md-ellipsis">
      GameManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#world-and-collision" class="md-nav__link">
    <span class="md-ellipsis">
      World and Collision
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spawnpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Spawnpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-mod-framework-and-loading-your-stage" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Mod Framework and Loading Your Stage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction-to-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction to Nodes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addressable-prefabs-and-newt-shrines" class="md-nav__link">
    <span class="md-ellipsis">
      Addressable Prefabs and Newt Shrines
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-links-and-jump-pads" class="md-nav__link">
    <span class="md-ellipsis">
      Node Links and Jump Pads
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#map-zones" class="md-nav__link">
    <span class="md-ellipsis">
      Map Zones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gates-and-toggle-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Gates and Toggle Groups
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monsters-interactables-and-unlocks" class="md-nav__link">
    <span class="md-ellipsis">
      Monsters, Interactables, and Unlocks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#music_1" class="md-nav__link">
    <span class="md-ellipsis">
      Music
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Optimization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visuals" class="md-nav__link">
    <span class="md-ellipsis">
      Visuals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inspecting-vanilla-stages-in-unity" class="md-nav__link">
    <span class="md-ellipsis">
      Inspecting Vanilla Stages in Unity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#credits" class="md-nav__link">
    <span class="md-ellipsis">
      Credits
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Translation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Translation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Void-Items/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Void Items
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_17" >
        
          
          <label class="md-nav__link" for="__nav_2_7_17" id="__nav_2_7_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Items
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_17">
            <span class="md-nav__icon md-icon"></span>
            Items
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Items/Using-the-RoR2CreateItemTemplate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using the RoR2CreateItemTemplate
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_18" >
        
          
          <label class="md-nav__link" for="__nav_2_7_18" id="__nav_2_7_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Shaders
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_18">
            <span class="md-nav__icon md-icon"></span>
            Shaders
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Shaders/HG-Triplanar-Terrain-Blend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HG Triplanar Terrain Blend
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Shaders/Working-Shaders-outside-of-an-AssetRipper-Project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Working Shaders outside of an AssetRipper project
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_19" >
        
          
          <label class="md-nav__link" for="__nav_2_7_19" id="__nav_2_7_19_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Skins
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_19">
            <span class="md-nav__icon md-icon"></span>
            Skins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Skins/Creating-skin-for-vanilla-characters-with-custom-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating skin for vanilla characters with custom model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_20" >
        
          
          <label class="md-nav__link" for="__nav_2_7_20" id="__nav_2_7_20_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sounds
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_20">
            <span class="md-nav__icon md-icon"></span>
            Sounds
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_20_1" >
        
          
          <label class="md-nav__link" for="__nav_2_7_20_1" id="__nav_2_7_20_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WWise
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_7_20_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_20_1">
            <span class="md-nav__icon md-icon"></span>
            WWise
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Sounds/WWise/Custom-Music/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Music
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Sounds/WWise/Getting-Started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unity-Version/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unity Version
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
        
          
          <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Unity Editor Usage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            Unity Editor Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unity-Editor-Usage/Editor-Scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Editor Scripts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unity-Editor-Usage/RoR2-Editor-Kit-Utilization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RoR2 Editor Kit Utilization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unity-Editor-Usage/Using-MonoBehaviour-Scripts-in-Editor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using MonoBehaviour Scripts in Editor
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10" >
        
          
          <label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ThunderKit
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            ThunderKit
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ThunderKit/Crash-Course-and-Getting-Started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ThunderKit - Crash course and Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ThunderKit/Upgrading-your-project-to-use-R2API%27s-Split-Assemblies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upgrading your project to use R2API's Split Assemblies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ThunderKit/Using-the-DOTS-framework-in-Modding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thunderkit - Using the DOTS framework in Modding
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" >
        
          
          <label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Updating Your Mods
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            Updating Your Mods
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Updating-Your-Mods/For-Survivors-of-the-Void/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    For Survivors of the Void
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Updating-Your-Mods/For-Seekers-of-the-Storm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    For Seekers of the Storm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Updating-Your-Mods/Updating-Core-API-Changelog-1.3.7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core API Changelog 1.3.7 - Seekers of the Storm 2.0 Phase 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Updating-Your-Mods/Updating-Core-API-Changelog-1.3.8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core API Changelog 1.3.8 - Seekers of the Storm 2.0 Phase 3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11_5" >
        
          
          <label class="md-nav__link" for="__nav_2_11_5" id="__nav_2_11_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    1.3.9 Memory Optimization
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_11_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11_5">
            <span class="md-nav__icon md-icon"></span>
            1.3.9 Memory Optimization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Updating-Your-Mods/1.3.9-Memory-Optimization/Core-API-Changelog-1.3.9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core API Changelog 1.3.9
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Updating-Your-Mods/1.3.9-Memory-Optimization/Updating-Guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Updating Guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Playing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Playing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Playing/Getting-Started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Playing/FAQ/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Playing/Running-modded-and-unmodded-game-with-shortcuts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running modded and unmodded game with shortcuts
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tools/BepInEx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BepInEx
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Tools/Glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Beginner%27s-Guide-for-Modding-Risk-of-Rain-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Beginner's Guide for Modding Risk of Rain 2
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#warning" class="md-nav__link">
    <span class="md-ellipsis">
      !!! WARNING !!!
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-terminology" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Terminology
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools-and-references" class="md-nav__link">
    <span class="md-ellipsis">
      Tools and References
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tools and References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modding-editor-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Modding / Editor tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runtime-debug-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Runtime / Debug Tools
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-your-stage" class="md-nav__link">
    <span class="md-ellipsis">
      Starting your Stage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Starting your Stage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenedef" class="md-nav__link">
    <span class="md-ellipsis">
      SceneDef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SceneDef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classification" class="md-nav__link">
    <span class="md-ellipsis">
      Classification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-facing-name" class="md-nav__link">
    <span class="md-ellipsis">
      User-Facing Name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bazaar" class="md-nav__link">
    <span class="md-ellipsis">
      Bazaar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logbook" class="md-nav__link">
    <span class="md-ellipsis">
      Logbook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#music" class="md-nav__link">
    <span class="md-ellipsis">
      Music
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#color" class="md-nav__link">
    <span class="md-ellipsis">
      Color
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#artifact" class="md-nav__link">
    <span class="md-ellipsis">
      Artifact
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destinations" class="md-nav__link">
    <span class="md-ellipsis">
      Destinations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#portal-appearance" class="md-nav__link">
    <span class="md-ellipsis">
      Portal Appearance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scene" class="md-nav__link">
    <span class="md-ellipsis">
      Scene
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scene">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sceneinfo" class="md-nav__link">
    <span class="md-ellipsis">
      SceneInfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#director" class="md-nav__link">
    <span class="md-ellipsis">
      Director
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gamemanager" class="md-nav__link">
    <span class="md-ellipsis">
      GameManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#world-and-collision" class="md-nav__link">
    <span class="md-ellipsis">
      World and Collision
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spawnpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Spawnpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-mod-framework-and-loading-your-stage" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Mod Framework and Loading Your Stage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction-to-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction to Nodes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addressable-prefabs-and-newt-shrines" class="md-nav__link">
    <span class="md-ellipsis">
      Addressable Prefabs and Newt Shrines
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-links-and-jump-pads" class="md-nav__link">
    <span class="md-ellipsis">
      Node Links and Jump Pads
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#map-zones" class="md-nav__link">
    <span class="md-ellipsis">
      Map Zones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gates-and-toggle-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Gates and Toggle Groups
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monsters-interactables-and-unlocks" class="md-nav__link">
    <span class="md-ellipsis">
      Monsters, Interactables, and Unlocks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#music_1" class="md-nav__link">
    <span class="md-ellipsis">
      Music
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Optimization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visuals" class="md-nav__link">
    <span class="md-ellipsis">
      Visuals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inspecting-vanilla-stages-in-unity" class="md-nav__link">
    <span class="md-ellipsis">
      Inspecting Vanilla Stages in Unity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#credits" class="md-nav__link">
    <span class="md-ellipsis">
      Credits
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/risk-of-thunder/R2Wiki/wiki/Mod-Creation_Assets_Stage/_edit" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="stages">Stages</h1>
<h2 id="warning"><strong><em>!!! WARNING !!!</em></strong></h2>
<p>Making stages is a difficult task. If you are new to modding please consider going  <a href="https://risk-of-thunder.github.io/R2Wiki/Mod-Creation/Getting-Started/First-Mod/">here</a> first. It is also recommended to have experience modding / working in Unity and <a href="./#modding--editor-tools">ThunderKit</a> as most of your time will be in Unity and Thunderkit.</p>
<p>There is also a bug in the latest version of ThunderKit:
<img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/13570aa8-8540-44d3-a574-441dbbad8f0c" /></p>
<p>To find the scripting define symbols you need to go to <code>Edit</code> &gt; <code>Project Settings</code> &gt; <code>Player</code> and append <code>RISKOFRAIN2</code> to your Scripting Define Symbols.</p>
<p>This page has been updated for SoTS! If there are any screenshots that were taken before SoTS, that means they still apply.</p>
<h2 id="quick-terminology">Quick Terminology</h2>
<ul>
<li><strong>Scene</strong> - The internal scene asset / what the player is seeing when the scene is loaded. Includes stages, cutscenes, and menus. (<code>golemplains</code>, <code>golemplains2</code>, <code>arena</code>, <code>artifactworld</code>, <code>crystalworld</code>, etc.)</li>
<li><strong>Stage</strong> - A playable scene. All stages are scenes but not all scenes are stages. (<code>golemplains</code>, <code>golemplains2</code>, <code>arena</code>, <code>artifactworld</code>, etc.)</li>
<li><strong>Locale</strong> - The name assigned to a stage or a group of stages. (Titanic Plains, Void Fields, Bulwark's Ambry, etc.)</li>
<li><strong>Variant / Alt</strong> - An alternate stage in a locale. (Titanic Plains having two different stages: <code>golemplains</code> and <code>golemplains2</code>)</li>
<li><strong>"Night Stage"</strong> / Post-Loop Alt - A alternate stage that appears post loop. </li>
<li><strong>"Part of the Loop"</strong> - Stages 1-5.</li>
<li><strong>Normal Progression</strong> - The default teleporter progression without taking any other routes.</li>
<li><strong>Path of the Colossus</strong> - The set of stages to get to Prime Meridian.</li>
</ul>
<h2 id="tools-and-references">Tools and References</h2>
<h3 id="modding-editor-tools">Modding / Editor tools</h3>
<ul>
<li><strong><a href="https://github.com/PassivePicasso/ThunderKit">Thunderkit</a></strong> - This tutorial uses thunderkit. You can make stages without Thunderkit but it is very different and very limited. If you are unaware of how to use Thunderkit, refer to <a href="https://risk-of-thunder.github.io/R2Wiki/Mod-Creation/Thunderkit/Getting-Started/">this page</a>. If you need further help, ask questions in the Risk of Rain 2 Modding or Thunderkit Discord Servers.</li>
<li><strong><a href="https://github.com/risk-of-thunder/RoR2EditorKit">RoR2EditorKit</a></strong> - A package that currently hosts the node placer and an abundance of other Unity editor utilites.</li>
<li><strong><a href="https://thunderstore.io/package/RiskofThunder/R2API_Stages/">R2API.Stages</a></strong> - Not necessarily required but it is heavily urged to have your mod depend on this to make sure stages are implemented and balanced correctly, especially if you are making a variant.</li>
<li><strong><a href="https://thunderstore.io/package/RiskofThunder/R2API_Addressables/">R2API.Addressables</a></strong> and <strong><a href="https://thunderstore.io/package/RiskofThunder/R2API_Director/">R2API.Director</a></strong> - Not required but it hosts the Monster / Interactable Pool Addressable Scriptable objects explained later in the tutorial. Feel free to make your own means of making pools.</li>
<li><strong><a href="https://thunderstore.io/package/RiskofThunder/R2API_Sound/">R2API.Sound</a></strong> - Not required but if you want to have custom music, it is required by this guide.</li>
<li><strong><a href="https://github.com/JaceDaDorito/jace-locationsofprecipitation/tree/main">LocationsOfPrecipitation</a> (AKA "LoP")</strong> - Required to populate certain fields (like the teleporter) or use certain prefabs (like newt statues). However, if you made an alternative to this that is also completely fine.</li>
<li>Other usual Thunderkit project packages like <strong>BepInEx</strong> and <strong><a href="https://thunderkit.thunderstore.io/package/RiskofThunder/RoR2MultiplayerHLAPI/">RoR2MultiplayerHLAPI</a></strong>.</li>
</ul>
<p><strong>R2API</strong> and <strong>BepInEx</strong> can be downloaded through the Thunderkit Package Manager. However, <strong>RoR2EditorKit</strong>, <strong>LocationsOfPrecipitation</strong>, and <strong>RoR2MultiplayerHLAPI</strong> should be downloaded via Unity's Package Manager instead. To do this, go to their respective github pages, copy the link under the green button that says <code>&lt;&gt; Code</code>, go to Unity, click on <code>Add package from git URL</code>, paste the link into the field, and then click <code>Add</code>.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/63cdf57c-2947-4eb2-8a8a-3f28c44f2ef9" />
<img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/898220a4-d767-4ca4-8af7-17654d59a688" /></p>
<p>You can monitor or change the package versions by going to  the <code>manfiest.json</code> in <code>(Project Folder)/Packages/manifest.json</code></p>
<p><a href="https://github.com/JaceDaDorito/WaffleHouse">Waffle House</a> is a good reference to see how the stage is constructed: whether it be how it manages assets or how it loads the stage.</p>
<h3 id="runtime-debug-tools">Runtime / Debug Tools</h3>
<ul>
<li><a href="../../%21https%3A/thunderstore.io/package/IHarbHD/DebugToolkit">Debug Toolkit</a> - A mod that gives access to a plethora of console commands for easier debugging.</li>
<li><a href="../../%21https%3A/thunderstore.io/package/Twiner/RuntimeInspector">Runtime Inspector</a> or <a href="../../%21https%3A/thunderstore.io/package/sinai-dev/UnityExplorer">Unity Explorer</a> - Mods that allow in-game inspection on anything loaded in your current scene.</li>
<li><a href="../../%21https%3A/thunderstore.io/package/Groove_Salad/RuntimeMaterialInspector">Runtime Material Inspector</a> - A mod that depends on Runtime Inspector that allows the editing of materials in game. Extremely important for stages that try to match RoR2's art style.</li>
<li><a href="../../%21https%3A/www.theverge.com/23283921/steam-fps-counter-how-to">Steam's FPS counter</a> - A setting on Steam that allows you to view your FPS in game. Important for monitoring frame drops caused by your stage.</li>
</ul>
<h2 id="starting-your-stage">Starting your Stage</h2>
<p>Your stage needs a set amount of rules to be declared in order to work as intended. This section will be in Unity specifically, if you want to start with code you can go <a href="./#creating-mod-framework-and-loading-your-stage">here</a>. This section goes over the <code>SceneDef</code> Scriptable Object so make sure to cross reference here occasionally if you decide to start with code.</p>
<p>RoR2EditorKit also has a Stage Wizard that sets up your stage for you. To use it, right click in your Project field, then go <code>RoR2EditorKit</code> &gt; <code>Wizards</code> &gt; <code>Stage</code>. Make sure a token prefix and Manifest is present in the RoR2EditorKit settings in the Thunderkit Settings tab. After generating the stage, make sure to still read through these upcoming sections to fully grasp what was generated. Make sure to also double check that your stage is accurate to that of the tutorial; the wizard is missing a few things as it was made with less known knowledge about stage making. This will be fixed soon.</p>
<h3 id="scenedef">SceneDef</h3>
<p>A stage's <code>SceneDef</code> is an identifying Scriptable Object that holds a lot of the stage's basic behavior. In the <code>SceneDef</code> you can declare tokens, required expansions, logbook entry fields music, etc. This is similar to how the <code>ItemDef</code> scriptable object is populated. This also means you can create a <code>SceneDef</code> in code if desired. The <code>SceneType</code> field should be the first thing you figure out- all of which are listed below:</p>
<ul>
<li><code>Menu</code> are UI based scenes. (main menu, logbook)</li>
<li><code>Stage</code> are stages that have time scaling and iterate on the stage counter. (Any stage in the loop like Titanic Plains, Void Locus)</li>
<li><code>Intermission</code> are stages that stop time scaling and do not iterate on the stage counter. (Guilded Coast, Bazaar)</li>
<li><code>Timed Intermission</code> are stages that are a mix of <code>Stage</code> and <code>Intermission</code>. The stage has time scaling but does not iterate on the stage counter. Only applies to Void Fields. (Void Fields used to be a <code>Stage</code> before version <code>1.2.4.4</code> / CU 7.5)</li>
<li><code>Cutscene</code> is self explanitory. (Intro Cutscene, Moon Ending Cutscene)</li>
<li><code>Invalid</code> means it is no longer used. You probably shouldn't use this unless you are keeping a deprecated stage in the mod. (<code>moon</code>: the original moon stage)</li>
</ul>
<p><code>Stage</code>, <code>Intermission</code>, and <code>Timed Intermission</code> are the only things going to be addressed in this tutorial.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/6507a6ed-d892-42e1-b10f-dc90440ffcdb" /></p>
<p>If your stage is <strong>completely new</strong> and <strong>not a variant</strong>, the SceneDef name, Scene name, and <code>Base Scene Name Override</code> field should be the same string. A good practice is to have a prefix in your string to lower chances of mod conflicts. For example, I put <code>waffle_</code> in <code>waffle_wafflehouse</code>.</p>
<p>If your stage is a <strong>variant</strong>, the SceneDef name and Scene name should be the same but different from the original stage; <code>Base Scene Name Override</code> should be the same as the original stage. For example, my Scorched Acres variant could be <code>slip_wispgraveyard2</code> but the <code>Base Scene Name Override</code> should be <code>wispgraveyard</code>.</p>
<p>The reason why these rules exist is because the game identifies which scene to load by using the SceneDef and Scene names. The <code>Base Scene Name Override</code> field is important for the logbook and how R2API.Stages catalogs stages- of which will be explained <a href="./#creating-mod-framework-and-loading-your-stage">here</a>.</p>
<p>The Other elements in the SceneDef are as follows:</p>
<h4 id="classification">Classification</h4>
<ul>
<li><code>Is Offline Scene</code> is checked if the scene can only show for individual clients. Usually reserved for menus. Do not check this since you are making a playable stage.</li>
<li><code>Stage Order</code>  indicates the stage's spot in the loop. This value is only used to order stages in the logbook by default, but if you are using R2API.Stages, it will also be used when registering the stage into the loop. Stages that aren't part of the loop have values outside the range of 1-5.</li>
<li><code>Required Expansion</code> is used to lock a stage to an expansion. If your stage is part of a larger mod and said mod has an expansion, you can put your mod's ExpansionDef to this field.</li>
</ul>
<h4 id="user-facing-name">User-Facing Name</h4>
<ul>
<li><code>Name Token</code> is the token for the stage name. "Abyssal Depths" is correlated with <code>dampcavesimple</code>'s name token: <code>MAP_DAMPCAVE_TITLE</code>.</li>
<li><code>Subtitle Token</code> is the token for the stage subtitle. "Tectonic Relics" is correlated with <code>dampcavesimple</code>'s subtitle token: <code>MAP_DAMPCAVE_SUBTITLE</code>.</li>
<li><code>Preview Texture</code> is the texture of the stage in the logbook. Although directly not correlated, the same texture is used in the <code>Portal Material</code>.</li>
</ul>
<h4 id="bazaar">Bazaar</h4>
<ul>
<li><code>Portal Material</code> is the Material shown in the bazaar seer. This field needs to be populated if your stage is part of the loop.</li>
<li><code>Portal Selection Message String</code> is the token for the stage bazaar seer message. "You dream of fire..." is correlated with <code>dampcavesimple</code>'s portal selection string: <code>BAZAAR_SEER_DAMPCAVESIMPLE</code>.</li>
</ul>
<h4 id="logbook">Logbook</h4>
<ul>
<li><code>Should Include In Logbook</code> is checked if the stage should appear in the logbook. Usually turned off for stage variants. <code>golemplains2</code> doesn't have this checked because there would be two "Titanic Plains" logs in the logbook if it wasn't.</li>
<li><code>Lore Token</code> is the token for the stage lore. I am not putting the entire <code>dampcavesimple</code> log here but the token is <code>MAP_DAMPCAVE_LORE</code>.</li>
<li><code>Diorama Prefab</code> is the prefab / model displayed in the logbook.</li>
</ul>
<h4 id="music">Music</h4>
<ul>
<li><code>Main Track</code> indicates what music to play during normal play.</li>
<li><code>Boss Track</code> indicates what music to play during the teleporter. If there is no teleporter, you don't need to populate this.</li>
</ul>
<h4 id="color">Color</h4>
<ul>
<li><code>Environment Color</code> is used for hardware light colors. (I couldn't find anything on this but thats what the Tooltip of the field says)</li>
</ul>
<h4 id="behavior">Behavior</h4>
<ul>
<li><code>Suppress Player Entry</code> is checked if the player doesn't spawn in the scene. Don't check this because you aren't making a cutscene.</li>
<li><code>Suppress Npc Entry</code> is checked if npcs (like drones) don't spawn into the scene. This is checked in <code>arena</code> due to the fog.</li>
<li><code>Block Orbital Skills</code> is checked if you  ~~hate Captain~~ want to turn off Captain's orbital skills in the stage. Usually used in Hidden Realms.</li>
<li><code>Valid For Random Selection</code> is checked if you allow the stage to be used in a random stage order. Mark this accordingly in case someone wants to do modded Prismatic Trials runs or another modded gamemode.</li>
<li><code>Allows Items To Spawn Objects</code> is checked if you want items like Shipping Request Forum to put objects into the stage. You do not need to check this if the SceneDef type is set to <code>Stage</code>.</li>
</ul>
<h4 id="artifact">Artifact</h4>
<ul>
<li><code>Need Skip Devotion Respawn</code> is checked if you want to delay devotion lemurian spawning until there is a valid node graph. This applies for stages like <code>moon2</code>.</li>
</ul>
<h4 id="destinations">Destinations</h4>
<ul>
<li><code>Destination Group</code> is the group of destinations after leaving the stage. <code>dampcavesimple</code> has the Stage 5 Scene Group (<code>sgStage5</code>) marked as its destination group.</li>
<li><code>Looped Destinations Group</code> is a group of destinations after leaving the stage and when looped. <code>dampcavesimple</code> has the looped Stage 5 Scene Group (<code>loopSgStage5</code>) marked as its looped destinations group.</li>
<li><code>Should Update Scene Collection After Looping</code> is checked if you want the stage to swap to the <code>Looped Destinations Group</code> after looping.</li>
<li><code>Looped Scene Def</code> is the pairing looped SceneDef. <code>village</code> has <code>villagenight</code> as its looped scene def.</li>
<li><code>Destinations</code> is deprecated.</li>
</ul>
<h4 id="portal-appearance">Portal Appearance</h4>
<ul>
<li><code>Preferred Portal Prefab</code> is used by the portal dialer for the artifact teleporter (I could be wrong about this). You don't need to worry about this if you are making a normal stage.</li>
</ul>
<p>Some fields in your <code>SceneDef</code> cannot be filled in directly through Unity (such as Music Tracks, Portal Material, and Destinations). This will be covered in <a href="./#creating-mod-framework-and-loading-your-stage">this section</a>.</p>
<h3 id="scene">Scene</h3>
<p>There are three main pieces in the Scene's hierarchy that makes the stage work properly: the SceneInfo, Director, and GameManager. The Scene's hierarchy will also contain the world, collision, decoration, etc.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/3c74c97e-ded8-49dc-8c72-bd938e973f81" /></p>
<h4 id="sceneinfo">SceneInfo</h4>
<p>The SceneInfo object has two components: <code>Scene Info</code> and <code>Classic Stage Info</code>. The <code>Scene Info</code> holds NodeGraphs and MapNodeGroups- which will be covered <a href="./#introduction-to-nodes">here</a>- while the <code>Classic Stage Info</code> holds the <code>Monster Dccs Pool</code>, <code>Interactable Dccs Pool</code>, and Director Credits. All of these will be discussed further into the tutorial. The <code>Interactable Categories</code> and <code>Monster Categories</code> are deprecated.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/f24810f3-b5ae-4e7d-8470-3abe54787727" /></p>
<h4 id="director">Director</h4>
<p>The Director is what keeps track of monster and ally spawns in the stage. This object should have a <code>Network Identity</code>, <code>Director Core</code>, and <code>Scene Director</code>. Every stage- even stages like <code>bazaar</code>- have these components. If you are planning to have a stage with no monster spawns or teleporter progression, you can leave it be.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/9fd7001f-fc78-478a-b812-adb7f5f5cda4" /></p>
<p>However, if you want monster spawns and teleporter progression, you will need two of <code>Combat Director</code> and the teleporter spawn card. There are two <code>Combat Directors</code> because one is for faster, weaker waves, and the other is for slower, stronger waves. The only difference between the two are the <code>Min Reroll Spawn Interval</code> and <code>Max Reroll Spawn Interval</code> fields.</p>
<ul>
<li>The faster, weaker combat director should look like this:</li>
</ul>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/14f1e9ed-3f05-4018-bcbd-4a5489e08bdd" /></p>
<ul>
<li>The slower, stronger combat director should look like this:</li>
</ul>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/73202008-cd00-44cd-af8d-4243afd73ba7" /></p>
<p>To inject the teleporter spawn card, you can use LoP's <code>Addressable Injector</code> component to inject the spawn card into the <code>Scene Director</code>'s <code>Teleporter Spawn Card</code> field. You can inject <code>RoR2/Base/Teleporters/iscTeleporter.asset</code> for a normal teleporter and <code>RoR2/Base/Teleporters/iscLunarTeleporter.asset</code> for the Primordial Teleporter on Sky Meadow. Even though there is no asset populated in the <code>Teleporter Spawn Card</code> field, they are linked and it will populate at runtime. This applies to anything involving <code>Addressable Injector</code>.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/5197e60f-357f-475d-8126-5f922a170f44" /></p>
<p>These aren't hard rules on how to set up your director, <strong>especially if you are making a stage with a unique functionality</strong>.</p>
<h4 id="gamemanager">GameManager</h4>
<p>The GameManager has one component: <code>Global Event Manager</code>. As the name suggests, this component handles core events in the game like handling Character Deaths and Level Ups. If you do not have this in your scene, your stage will be unplayable.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/5c1d9e6c-32e6-49d3-a495-4696d6bf35e7" /></p>
<h4 id="world-and-collision">World and Collision</h4>
<p>The <code>World</code> layer is attached to most of the game's collision. A lot of the game's collision checks use this layer, so make sure all main geometry is under this layer. Small props with no collision or skybox elements do not need to fall under the <code>World</code> layer. If you cannot see the <code>World</code> Layer, under Import Configuration in the Thunderkit Settings tab, switch <code>Included Settings</code> to be <code>Everything</code>, then reimport RoR2.</p>
<p><img alt="unknown" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/15f96699-fdd1-47fe-a5c0-6192b26a3927" /></p>
<p>To block out your stage layout, you can use Blender or any other modelling program of your choice. Please be mindful of the amount of vertices in each model as you do not want your stage to drop framerate.</p>
<p>All collision should have some form of <code>Collider</code> component. All collider types can be seen <a href="../../%21https%3A/docs.unity3d.com/2019.4/Documentation/ScriptReference/Collider.html">here</a>. If you are using a <code>Mesh Collider</code>, make sure your mesh's vertices aren't condensed enough to mess with player collision. The big terrain mesh found on any stage may have a sizable amount of vertices, but it will never mess with collision since they are so spread out.</p>
<p><strong>Never use</strong> <code>Mesh Collider</code> <strong>for detailed, smaller models</strong>. If your detailed model can be simplified to a basic shape like a box or sphere, use Unity's primitive collider types such as <code>Box Collider</code> or <code>Sphere Collider</code>. The example below showcases a set piece in <code>golemplains</code> from the top down. Even though the model has indents and holes, it uses a <code>Box Collider</code> (indicated by the green lines) to keep it from ruining player movement.</p>
<p><img alt="Illustration" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/fd7f29ba-006c-407d-ad12-1eb2a8d9b732" /></p>
<p>If your detailed model is more irregular, you will have to create a simplified mesh that matches your model and use that in your <code>Mesh Collider</code> instead. For example, there is this bridge. It is irregular and it cannot be simplified to primitive shapes easily.</p>
<p><img alt="Illustration2" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/da169d91-fe23-4602-bb36-cc18d17c18c8" /></p>
<p>This is the collision that overlaps said bridge.</p>
<p><img alt="Illustration3" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/908074c0-b1ee-471d-8798-8527d1d7511e" /></p>
<p>There may be minor clipping or inaccuracies when a player walks over the bridge but that is fine, the bridge is traversable and players probably will not notice those minor mistakes.</p>
<h3 id="spawnpoints">Spawnpoints</h3>
<p><code>Spawn Point</code> is a component that dictates player spawn points. However, the spawn points you place in the scene are only used if you load into the stage with a drop pod (the intro animation when you start your run; Acrid's wake up is also a "pod"). When you do a stage transition (say from stage 4 -&gt; 5), the game will remove all the spawn points and generate new ones via the nodegraph (which will be talked about <a href="./#nodes">here</a>). The code below is found in <code>RoR2.SceneDirector</code>. <code>arena</code> has it's own way to generate spawn points as well.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/3dd0fb7b-faad-4933-b120-3989e689cd2c" /></p>
<p>Regardless if your stage is a stage 1, is in a different part of the loop, or a hidden realm, <strong>place spawn points</strong>. Loop stages usually have four sets of four spawn points, making sixteen spawn points total. The reason why we place spawn points even if the stage isn't a stage 1 is to account for unpredictability: other mods most notably. To place a spawn point, make an empty object and attach the <code>Spawn Point</code> component to it. You will know it works because there will be a wireframe of the commando model. This is also a cheap way to get good size reference without importing a model.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/478d4916-b592-4f5d-aaef-706f40aadd57" /></p>
<p>Keep in mind if you load your stage without a nodegraph via <code>next_stage</code> or stage transition, you will spawn at the world origin.</p>
<h2 id="creating-mod-framework-and-loading-your-stage">Creating Mod Framework and Loading Your Stage</h2>
<p>Considering you already know how to <a href="https://risk-of-thunder.github.io/R2Wiki/Mod-Creation/Unity-Editor-Usage/ThunderKit/Crash-Course-and-Getting-Started/">set up your BaseUnityPlugin and load assetbundles</a>, creating the code for your stage is simple- that is until you make unique gimmicks for the stage such as the Abandoned Aqueduct door, Void Fields cells, or even a final boss.</p>
<p>You can either load your SceneDef from your assetbundle as an asset or create a SceneDef at runtime like so:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>public static SceneDef ExampleModStageDef;
</code></pre></div>
Setting up / completing your SceneDef will look something like this:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>public void AddSceneDef(){
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    //The pseudocode below is only for those who are making their SceneDef in code
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    ExampleModStageDef = ScriptableObject.CreateInstance&lt;SceneDef&gt;();
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    string identificationStr = &quot;example_examplestage&quot;;
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    ExampleModStageDef.cachedName = identification;
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    ExampleModStageDef.baseSceneNameOverride = identification;
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    ExampleModStageDef.sceneType = SceneType.Stage;
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    ExampleModStageDef.isOfflineScene = false;
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    ExampleModStageDef.stageOrder = 2; //Stage 2
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    ExampleModStageDef.nameToken = &quot;EXAMPLE_MAP_EXAMPLESTAGE_NAME&quot;;
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>    ExampleModStageDef.subtitleToken = &quot;EXAMPLE_MAP_EXAMPLESTAGE_SUBTITLE&quot;;
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>    ExampleModStageDef.previewTexture = YourLoadedPreviewTexture;
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>    ExampleModStageDef.portalSelectionMessageString = &quot;EXAMPLE_BAZAAR_SEER_EXAMPLESTAGE&quot;;
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>    ExampleModStageDef.shouldIncludeInLogbook = true;
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>    ExampleModStageDef.loreToken = &quot;EXAMPLE_MAP_EXAMPLESTAGE_LORE&quot;;
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    ExampleModStageDef.dioramaPrefab = YourLoadedDioramaPrefab;
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>    ExampleModStageDef.suppressPlayerEntry = false;
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>    ExampleModStageDef.suppressNpcEntry = false;
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>    ExampleModStageDef.blockOrbitalSkills = false;
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>    ExampleModStageDef.validForRandomSelection = true;
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>    //The pseudocode below is applicable no matter where your SceneDef is created.
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>
<a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>    //This is &quot;The Raindrop that Fell to the Sky&quot;
<a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>    ExampleModStageDef.mainTrack = Addressables.LoadAssetAsync&lt;MusicTrackDef&gt;(&quot;RoR2/Base/Common/muSong13.asset&quot;).WaitForCompletion();
<a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>
<a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>    //This is &quot;Thermodynamic Equilibrium&quot;
<a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>    ExampleModStageDef.bossTrack = Addressables.LoadAssetAsync&lt;MusicTrackDef&gt;(&quot;RoR2/Base/Common/muSong05.asset&quot;).WaitForCompletion();
<a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>
<a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>    ExampleModStageDef.portalMaterial = StageRegistration.MakeBazaarSeerMaterial(YourLoadedPreviewTexture.texture);
<a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>
<a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a>    StageRegistration.AddSceneDef(ExampleModStageDef, ExampleModPluginInfo)
<a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a>    StageRegistration.RegisterSceneDefToNormalProgression(ExampleModStageDef);
<a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a>}
</code></pre></div>
This pseudo-code showcases some of R2API's stage utilities such as <code>MakeBazaarSeerMaterial</code>, <code>AddSceneDef</code>, and <code>RegisterSceneDefToNormalProgression</code>.
- <code>MakeBazaarMaterial</code> returns a usable bazaar seer material using the texture passed into it.
- <code>AddSceneDef</code> adds your SceneDef to your ContentPack.
- <code>RegisterSceneDefToNormalProgression</code> automatically adds your stage to the loop depending on your stage order. If your stage order is set to <code>2</code> like the example above, it will add your <code>SceneDef</code> to the appropriate <code>SceneCollection</code> (<code>sgStage2</code> and <code>loopSgStage2</code>) and set your <code>Destinations Group</code> to the next <code>SceneCollection</code> (<code>sgStage3</code> and <code>loopSgStage3</code>). If you are registering a stage 5, the <code>Destinations Group</code> will be set to <code>sgStage1</code> and <code>loopSgStage3</code>. This method has extra parameters to support putting in a custom weight and setting the pre-loop/post-loop status of the stage.</p>
<p>R2API.Stages catalogs all stages that get entered into the Normal Progression. At some point in the future there will be efforts into making alternate Path of the Colossus stages.</p>
<p>To see all internal stage names please look <a href="https://risk-of-thunder.github.io/R2Wiki/Mod-Creation/Developer-Reference/Scene-Names/">here</a>.</p>
<p>To assist in building the mod, LoP comes with standard Manifests, Pipelines, and PathReferences. Copy <code>Manifest</code> from <code>LocationsOfPrecipitation/Editor/Manifest</code> and fill it in appropriately. Every field can be explained under Thunderkit's documentation window under <code>Tools</code> &gt; <code>Thunderkit</code> &gt; <code>Documentation</code>. Make sure your Scene asset and the rest of your mod's assets are in different bundles.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/ea495029-16c5-49f2-813c-0493a6df30df" /></p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/2830f7d6-827e-447d-a9a2-eb34b64ae96d" /></p>
<p><img alt="Illustration" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/6d1d0e58-3d31-4b1c-babe-b47cfcd4a707" /></p>
<p>Copy <code>ContributorBuild</code> from <code>LocationsOfPrecipitation/Editor/Pipelines</code> and create a new <code>PathReference</code> by doing right click &gt; <code>Thunderkit</code> &gt; <code>PathReference</code>. Attach your manifest to your pipeline's <code>Manifest</code> field and your pipeline's <code>Manifests</code> field under the <code>Copy</code> job. The <code>Destination</code> field will be the name of your Path Reference in <code>&lt;&gt;</code>. Both should look something like this:</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/b929aff2-7934-4b0c-8034-8f0fbcad0419" /></p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/807c0d5b-5fbe-4c04-b10f-7600c33389f1" /></p>
<p>Afterwards you should be able to hit Execute and it will build the mod. If you have trouble building your mod feel free to consult the thunderkit or map-creation channels in the RoR2Modding Discord server.</p>
<p>By now your stage should be loadable- buggy but loadable. You should be able to execute <code>next_stage [Name of SceneDef / Scene]</code> and (if applicable) load into the stage at the appropriate loop placement. Make sure to use <code>noclip</code> as it is likely you will fall out of bounds.</p>
<h2 id="introduction-to-nodes">Introduction to Nodes</h2>
<p>Nodes and pathfinding are both important aspects to all stages. Even for stages without combat like the Bazaar, a nodegraph is still present, albeit a small one. Nodes are the backbone for player spawning, monster spawning, interactable placement, teleporter placement, pathfinding, gates, etc.</p>
<p>There are three types of nodes: Ground, Air, and Rail. This tutorial will only be using Ground and Air nodes because Rail nodes have no presence in the game. Air and Ground nodes both dictate the spawning and navigation of aerial and ground bodies respectively. Ground nodes also dictate interactable and teleporter placement. Interactables placed manually into the scene such as Newt Statues, Preon Chest in Ralleypoint, and Froggy in Commencement are exempt from this rule and will be detailed later.</p>
<p>To start placing nodes, you will need a node placer / painter. You can either use the one in RoR2EditorKit or make your own. The one in RoR2EditorKit will allow you to place nodes into your scene with set keybinds and raycasts: ground nodes will raycast directly to the ground and air nodes will raycast a set distance above the ground. The raycast will only work when its aimed at collision on the <code>World</code> layer. To use the node placer, create two empty game objects in the scene hierarchy and attach the <code>Map Node Group</code> component to both of them (if you are using the Stage Wizard, these should be generated already). One object will hold our Air Nodes and the other will hold our Ground Nodes. In each of their <code>Map Node Group</code> components, set their <code>Graph Type</code> to the correct node type: Air for the Air Nodes and Ground for the Ground Nodes.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/73520c02-b86c-4af4-9273-1eaca00a4f99" /></p>
<p>Next, you want to create two <code>NodeGraph</code> assets. Right click in the Project window and go to <code>Create</code> &gt; <code>RoR2</code> &gt; <code>NodeGraph</code>. The purpose of the Node Graphs is to hold any baked node data once you have finalized your node placement and properties. One Node Graph will be for Air Nodes, the other will be for Ground Nodes. Attach each to the <code>Node Graph</code> field in each respective <code>MapNodeGroup</code> component. The last thing you need to do is attach your Node Groups and Node Graphs to your <code>SceneInfo</code>. Now you are ready to start placing nodes.</p>
<p>While having one of your Node Groups selected, you can hover over your terrain and use the displayed keybinds to place or remove nodes. By default, B places nodes at your mouse's raycasted position, M removes the nearest map node, and N places a node at your camera (the last feature is currently unavailable but it will come back). You can enable <code>Use Painter</code> on the Node Group to enable a painter that should make the process a bit quicker. The <code>Parent Game Object</code> field allows you to place nodes under another Game Object automatically; this allows you to maintain some sense of organization as there will be a lot of nodes in your map when you are finished.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/e13cb300-3da2-4cb5-a539-42a4223fd42a" /></p>
<p>As you place your nodes, you will notice the green links between them. This indicates that they will have a link between them when they are baked: a core mechanism that powers pathfinding. Make sure to polish your node placements so they are properly spaced out and cover the land you want to be playable.</p>
<p><strong><p style='color:red'>Be wary of the <code>Clear Nodes</code> and <code>Remove Unconnected Nodes</code> buttons, both of these delete nodes.</p></strong> The <code>Clear Nodes</code> button removes all nodes under your Node Group; the <code>Remove Unconnected Nodes</code> removes nodes that are not connected to other nodes, which should sound fine, however if you do this before baking nodes or <strong>after restarting the project without baking nodes again</strong> it will remove all of your nodes.</p>
<p>Each node has properties that allow different behaviors: <code>Forbidden Hulls</code>, <code>Flags</code>, and <code>Gates</code>. Gates will be covered in its own section as it opens up for more creative use of nodes. The <code>Forbidden Hulls</code> defines what size of monsters are allowed to spawn on that node: <code>Human</code> (player sized monsters such as Lemurians and Wisps), <code>Golem</code> (bigger enemies from Golems to Titans), and <code>Beetle Queen</code> (huge enemies such as Beetle Queen and Grandparent). The <code>Flags</code> have miscellaneous behaviors such as <code>Teleporter OK</code>, <code>No Ceiling</code>, <code>No Character Spawn</code>, <code>No Chest Spawn</code>, and <code>No Shrine Spawn</code>. The Hulls and Flags can be automatically generated via the <code>Update No Ceiling Masks</code>, <code>Update Teleporter Masks</code>, and <code>Update Hull Masks</code> buttons. You can also manually choose the flags and hulls you want via the Node Group or on the placed node. This opens up the ability for further polish as you can adjust teleporter spots or forbid chests and shrines from spawning on a jump pad- of which will be covered later.</p>
<p>Once you are confident with your node placements, it is time to bake your node graph. You can do this by clicking on the <code>Bake Node Graph</code> button on your Node Group. You can tell it baked when there are pink lines in between all of your nodes.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/6431825e-a9bb-4956-9d53-d15bd5a89d7b" /></p>
<p>When rebuilding your mod and loading your stage again, you should spawn on your terrain and there should be a teleporter (if you intended there to be one).</p>
<h2 id="addressable-prefabs-and-newt-shrines">Addressable Prefabs and Newt Shrines</h2>
<p>Similarly to injecting addressable assets into fields such as what was done with the Teleporter interactable card, you can instantiate RoR2 prefabs into your scene. To do this, you attach a GameObject with the <code>Instantiate Addressable Prefab</code> component from LoP. You can then input the addressable key into the <code>Address</code> field and mess with the options the component comes with:</p>
<ul>
<li><code>Set Position And Rotation To Zero</code> makes the prefab position set to the <strong>World origin</strong> (0,0,0) and resets any rotations.</li>
<li><code>Use Local Position and Rotation</code> sets the prefab to that of its parent GameObject. Set the values of the parent to set the values of the prefab. Checking this value overrides <code>Set Position And Rotation To Zero</code></li>
<li><code>Reset in Editor</code> allows instantiation of the prefab in the editor. The prefab does <strong>NOT</strong> save in the scene so the script is still needed to instantiate the prefab at runtime. Report any GUID errors on your scene as that is a direct effect of trying to save an addressable prefab to the scene.</li>
</ul>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/739d395b-1c78-45a1-9fc1-22fa03b867ef" /></p>
<p>Instantiating Newt Shrine uses the same process as instantiating any other Addressable Prefab. To instantiate a Newt Shrine, input this address:</p>
<p><code>RoR2/Base/NewtStatue/NewtStatue.prefab</code></p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/69429abc-0097-4e09-8646-cfcbde97a8ae" /></p>
<p>This script does have limitations: you cannot do any editing to the prefab instantiated. This includes jump pads. This is an issue because you need to edit the trajectory of the jump pad for them to be usable. LoP comes with another component to instantiate RoR2's jump pads- which will be covered in the next section.</p>
<h2 id="node-links-and-jump-pads">Node Links and Jump Pads</h2>
<p>A lot of stages have Jump Pads or "Geysers" to help tie together a stage's traversal options. All of the prefabs shown below are examples of jump pads you may have seen scattered throughout the game.</p>
<p><img alt="Geysers" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/117772c2-680c-4d20-b975-a5a265c6945a" /></p>
<p>When it comes to using jump pads you have two options: making them from scratch or reusing the ones already in game. If you want to make unique looking jump pads, it is recommended to go with the former.</p>
<p>To create your own jump pad you will need four parts: the holder, Jump Volume, target, and visuals. The holder, which is called "Geyser" in this case, is the parent object holding the entire jump pad. It will be on the <code>Pickups</code> layer and have the <code>Occupy Nearby Nodes</code> component.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/00418df1-d4ea-4504-ae6c-4865b6f02767" /></p>
<p>The Jump Volume will be parented under "Geyser" and have the <code>Jump Volume</code> component and any type of <code>Collider</code>. The <code>Collider</code> needs to have <code>Is Trigger</code> bool enabled. The Jump Volume is also under the <code>Pickups</code> layer.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/65bc8898-e749-4899-a2d4-d9deae051917" /></p>
<p>The <code>Jump Volume</code> component is also where you will be operating the jump pad's launch vector. You could operate this manually by editing the <code>Jump Velocity</code> and the <code>Time</code>, however, RoR2EditorKit has an inspector utility to help autocalculate it for you by using a target. The target is an empty GameObject under the Jump Volume that is only used for its position. Just put the target into the <code>Target Elevation Transform</code> field in the <code>Jump Volume</code> then position the target where you want it to be. After setting the <code>Time</code> to any value above 0, check <code>Autocalculate Jump Velocity</code> and it should draw the trajectory of the jump pad towards your target. It can also be helpful putting temporary visuals where your target is located as you are prototyping your stage. Do keep in mind that the math to calculate the trajectory does not account for opposing forces such as shifts in gravity (Fogbound Lagoon's water) or knockback.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/be33d94e-775d-4d0f-a60f-3bb07992b75a" /></p>
<p>Visuals are important to help communicate where the jump pad is located. In this case, a normal capsule mesh is used. However, it is advised to make your own unique visuals to enforce distinction from the rest of the environment.</p>
<p>LoP also has a util to help speed up the creation of custom jump pads. When right clicking on the scene hierarchy, there is a new menu item called <code>Risk of Rain 2</code>. When expanding this menu item, there is <code>Geyser</code>. This will create a "primitive" jump pad with all the parts detailed above.</p>
<p>There are more parts to making a jump pad beyond these details; it is suggested to search "Geyser" in Thunderkit's Addressable Browser and inspect any of the jump pads listed to study how they are constructed.</p>
<p>If you want to reuse the jump pads in game, LoP has the <code>Instantiate Geyser Prefab</code> component to allow you to instantiate any of the jump pads shown above. The Geyser type <code>Fan</code> has special attributes which will be covered <a href="./#gates-and-toggle-groups">here</a> as it is intertwined with gates and toggle groups. Do note that LoP does support the unused <code>moon</code> jump pads but not the newer <code>moon2</code> jump pads. The <code>moon2</code> jump pads have a unique condition to be activated hence why LoP doesn't support it- at least at the moment. When instantiating this component, it will also instantiate a <code>Jump Volume</code>. This Jump Volume's values will be copied over to the pad's Jump Volume at runtime. You can then edit this Jump Volume like normal. Beyond the normal <code>Instantiate Addressable Prefab</code> options, <code>Instantiate Geyser Prefab</code> has <code>Conserve Sound String</code> if you want to keep the sound effect of being launched on the original jump pad.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/d012b7ad-7d9a-4412-96f9-32539e5026ae" /></p>
<p>With both approaches to making jump pads there is an apparent issue: enemies do not know this jump pad exists. You may notice that grounded enemies will use jump pads to get to you as fast as possible. If enemies were to be spawning in your stage right now, they would not do this. To fix this, you need to make use of the <code>Map Node Link</code> component. This component allows you to manually link two nodes together no matter how far apart they are. Place a <strong>ground</strong> node on both the jump pad and the target. View the node you placed on the jump pad and attach a <code>Map Node Link</code>. Then, attatch the target node to the <code>Other</code> field. There should now be a yellow line connecting the two nodes together. <code>Min Jump Height</code> should also be 0. Make sure the node on the jump pad has these flags:
- Teleporter OK is unchecked
- No Chest Spawn
- No Shrine Spawn
- No Character Spawn</p>
<p>Ignoring the <code>Gate Name</code> fields for now, it should look something like this:</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/7cd466f0-58fa-4f90-b65e-82bb577db98f" /></p>
<p>Once you rebake your node graph, enemies should be able to interact with these jump pads intentionally.</p>
<p><img alt="risk-of-rain2-risk-of-rain" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/d505297f-5749-4e27-82a0-c1e6fa1677fa" /></p>
<h2 id="map-zones">Map Zones</h2>
<p>You now need to make sure players cannot get soft-locked and enemies die out of bounds. To do this, you will need to make use of the <code>Map Zone</code> component. To use this component, create an empty GameObject and put it on the <code>CollideWithCharacterHullOnly</code> layer. Give it any Collider but Mesh Collider and the <code>Map Zone</code> component. Turn on <code>Is Trigger</code> on the Collider. Now you need to configure the <code>Map Zone</code> component to your liking:</p>
<ul>
<li><strong>Trigger Type</strong>: Trigger Exit will trigger the zone type if the CharacterBody leaves the Collider. Trigger Enter will trigger if the CharacterBody enters the Collider.</li>
<li><strong>Zone Type</strong>: Out of Bounds will teleport players and kill monsters. KickOutPlayers just teleports players.</li>
<li><strong>Explicit Destination</strong>: An explicit spawn point players get teleported back to.</li>
<li><strong>Explicit Spawn Effect Prefab</strong>: Vfx when players get teleported.</li>
<li><strong>Destination Ideal Radius</strong>: The ideal radius of positions the player gets teleported to. In stages in the loop this is normally 0.</li>
</ul>
<p>The last thing you need to do is change the size of your collider to fit the space you want. There can be multiple colliders with the <code>Map Zone</code> component.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/dcb10f8c-5186-47af-a6ea-3ee743b45109" /></p>
<h2 id="gates-and-toggle-groups">Gates and Toggle Groups</h2>
<p>You may have noticed that a lot of the stages in RoR2 has an RNG aspect to them: the Distant Roost door on both alts sometimes being closed, the <code>dampcavesimple</code> cave sometimes being closed off, and the newt statues' positions being swapped around. These are all a result of the <code>Scene Object Toggle Group</code> component. This component allows you to enable and disable certain objects at random when you enter the scene. To use this component all you need to do is create an empty object (usually under the SceneInfo for consistency) and add the <code>Scene Object Toggle Group</code> component to it.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/de7dcf6a-84a6-41cb-b7a0-6217df12c17c" /></p>
<p>Once you have the component, you can start adding the objects you want to be randomized. For example, element 1 in the image below holds the newt shrine randomization. It holds both newt shrines and the range of shrines that can be enabled at once. <code>Min Enabled</code> = 0 means that there can be no newt shrines at minimum. <code>Max Enabled</code> = 2 means that both newt shrines can be enabled at maximum. If you only wanted one shrine to be enabled at a time, you set <code>Min Enabled</code> to 1 and <code>Max Enabled</code> to 1.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/25eb1a65-fbbb-4ed7-b1f0-6a8da6da7b66" /></p>
<p>However, when you apply this approach to the level geometry and jump pads, there is an issue of having extraneous or missing nodes. This is an issue because of two reasons:</p>
<ul>
<li><strong>Extraneous Gameplay Space</strong> - When interactables and monsters can spawn and function in inaccessible or unconventional spaces. Imagine the <code>blackbeach</code> door being closed but there are still chests or even a teleporter behind it. This is never good as it can waste interactable and monster credits at best and completely kill the run at worst.</li>
<li><strong>Invalid Gameplay Space</strong> - When interactables and monsters cannot spawn or function in intended gameplay spaces. Imagine if the garunteed newt / artifact area in <code>wispgraveyard</code> was supposed to be an intended combat space. There is no loot up there and if monsters somehow got up there, they would freeze up and not be able to path find. <strong>However</strong>, since it isn't intended combat space in our universe, it is fine for monsters and interactables to not spawn and function up there. This concept also includes not properly setting up your jump pad's node links detailed <a href="./#node-links-and-jump-pads">here</a>.</li>
</ul>
<p>This is where gates come in. Gates allow you group together nodes and enable and disable them under any condition. First, you need to label your nodes under a gate. To do this you simply fill in the <code>Gate Name</code> field in your Node Group and place nodes.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/b2d283dc-abb1-464a-ad9c-1670b4740a0e" /></p>
<p>If you want to edit the <code>Gate Name</code> of already existing nodes, you can shift click nodes you want to edit and fill in <code>Gate Name</code>.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/edfcc6c8-0953-4dab-9eaf-9ec648916f26" /></p>
<p>To toggle certain gates using the <code>Scene Object Toggle Group</code>, you would need another component called <code>Gate State Setter</code>. What this component does is diable or enable certain gates depending on the activity of the GameObject it is attached to. In the image below, if the GameObject named "GateToggler" were to be enabled, <code>Gate1</code> will enable and <code>Gate2</code> will disable.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/60d62a31-ea70-4a9d-a11d-3f2fc349c471" /></p>
<p>A "GateTogglerInverse" was also made with the opposite properties: when "GateTogglerInverse" is enabled, <code>Gate1</code> will disable and <code>Gate2</code> will enable.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/e7cc41d7-c46a-415e-a799-146ffa9b22d5" /></p>
<p>Both of these objects can be used in the <code>Scene Object Toggle Group</code> to effectively make a switch where one gate or the other is enabled at a time.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/ebc7ab84-3f78-4eef-9145-baecfea1c377" /></p>
<p>However, there are more use cases to gates beyond just initial stage RNG. As mentioned in the <a href="./#node-links-and-jump-pads">Node Links and Jump Pads</a> section, the <code>Fan</code> jump pad has unique properties due to it being purchasable. When <code>Gate Toggle On Purchase</code> is enabled, it opens up the <code>Gate To Enable When Purchased</code> and <code>Gate To Disable When Purchased</code> fields. These work exactly like the <code>Gate State Setter</code> except now it enables and disables the given gates on purchase. In the example below, the fan enables the <code>FanIsland</code> gate on purchase.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/03d11a30-8558-4d97-bcd1-2d8450e790dd" /></p>
<p>By using knowledge on setting up node links, you can now repeat the same process but the jump pad and target nodes are now under a gate. The reason why gates are important to the <code>Fan</code> jump pad is because you want enemies to recognize when the fan is operational: you do not want enemies to ignore the fan when it is enabled nor do you want them to clump near the fan thinking its enabled.</p>
<p>Gates can be enabled and disabled under any under condition- assuming you are willing to put in more code. This also means, yes, the Contact Light from Risk of Rain 1 is possible. Gates will allow you to extend the creativity of your stage and make it into something truly special. However, you do not need gates to make a good stage.</p>
<h2 id="monsters-interactables-and-unlocks">Monsters, Interactables, and Unlocks</h2>
<p>Every stage in the game has a unique selection of monsters and interactables. Each monster and interactable is represented as a card: <code>CharacterSpawnCard</code> (CSC) and <code>InteractableSpawnCard</code> (ISC) respectively. If you care about stage balance, the most important property in each card is the <code>Director Credit Cost</code>; self-evidently, this is the value used to deduct director credits whenever this card is chosen. This value can be used as a factor to gauge what interactables and monsters are appropriate for your stage. Referencing other stage pools is also a good idea. Using both CSC and ISC, you can compile your monster and interactable pools in a <code>DirectorCardCategorySelection</code> (DCCS). The DCCS can hold both CSC and ISC but you will need to make a DCCS for each: one for monsters and one for interactables. You can create a DCCS by right clicking on the Project window &gt; <code>Create</code> &gt; <code>RoR2</code> &gt; <code>DCCS</code> &gt; <code>DirectorCardCategorySelection</code>.</p>
<p>Due to how the DLC works for RoR2, every non-DLC stage has two DCCS for the monster and interactable pools. Both DCCS are named the same except the DLC monster pool has a <code>DLC1</code> suffix. For reference, here are the naming schemes of the <code>skymeadow</code> DCCS:</p>
<ul>
<li><code>dccsSkyMeadowInteractables</code> - The non-DLC DCCS for interactables</li>
<li><code>dccsSkyMeadowInteractablesDLC1</code> - The DLC DCCS for interactables</li>
<li><code>dccsSkyMeadowMonsters</code> - The non-DLC DCCS for monsters</li>
<li><code>dccsSkyMeadowMonstersDLC1</code> - The DLC DCCS for monsters</li>
</ul>
<p>After creating your desired amount of DCCS, you will need to feed them into a <code>DccsPool</code> (DP). The DP is responsible for choosing the appropriate DCCS depending on what expansions are enabled. Back to the <code>skymeadow</code> example, if DLC1 was disabled, <code>dccsSkyMeadowInteractables</code> would be chosen; if DLC1 was enabled, <code>dccsSkyMeadowInteractablesDLC1</code> would be chosen.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/591f452f-3601-4bfb-8273-5afded1193dc" /></p>
<p>Other than the DCCS, the DP can also hold Family Events. The game usually has two seperate categories for family events: "Family" and "VoidInvasion". "Family" has all the standard family events while "VoidInvasion" has the Void themed family event specifically.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/4ae63001-85fd-4139-919b-a19fa2dedfbb" /></p>
<p>Overall, the "Standard" category (the DCCS holder) should have a Category Weight of 0.98 while the Family Event categories should have a weight of 0.2.</p>
<p>You may notice that you don't have direct access to monster/interactable/family/expansion assets to feed into the DCCS or DP. You have two options: loading all the assets into the DCCS or DP at runtime with code or make use of R2API's scriptable objects, <code>AddressableDirectorCardCategorySelection</code>(ADCCS) and <code>AddressableDCCSPool</code>(ADP). If you are doing the former, you can load the desire assets and populate them into desired fields similarly to what is done with the SceneDef. If you are doing the latter, you will want to right click into the project window &gt; <code>Create</code> &gt; <code>R2API</code> &gt; <code>DirectorAPI</code> &gt; and both objects should be listed there. These scriptable objects act as a holder for any values inputted, then populate them into the target DCCS or DP at runtime. These scriptable objects have a unique property of being able to hold addressable keys; for example, if you wanted your stage's monster pool to have beetles, you can grab its CSC address and input it as follows:</p>
<p>You can then expand the amount of categories the DCCS has to put your cards in. In stages in the loop, the DCCS follow a pattern. The monster DCCS has these categories:</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/b7310e77-8512-4d8f-b13b-931bc4d0a7ca" /></p>
<p><strong>A few disclaimers if you choose to use R2API's director scriptable objects:</strong></p>
<ul>
<li>The target will be completely overriden with whatever is in the ADCCS/ADP. The target should be completely empty.</li>
<li>If you have custom monster or interactable cards, you can input them into the ADCCS. To do this you right click on the context menu next to the desired field (The small RoR2 icon) and click "Use Direct Reference".</li>
<li>When you want to reference something off of your DCCS/DP at runtime, reference off of the target DCCS/DP not the ADCCS/ADP. The target will already be populated at runtime. This also applies to attaching your DP to the Classic Stage info detailed later on.</li>
</ul>
<p>Now you are ready to populate your DCCS. To remain consistent with vanilla, it is encouraged to organize your DCCS in a particular way. The monster DCCS has these categories:</p>
<ul>
<li><strong>Champions</strong> - Bosses (Beetle Queen, Magma Worm, etc.)</li>
<li><strong>Minibosses</strong> - Bigger, credit-heavy monsters (Greater Wisp, Golems, Elder Lemurians, etc.)</li>
<li><strong>Basic Monsters</strong> - Smaller, less credit-heavy monsters (Lemurians, Wisps, Vultures, etc.)</li>
<li><strong>Special</strong> - Scavenger</li>
</ul>
<p>The interactable DCCS has these categories:</p>
<ul>
<li><strong>Chests</strong> - Chests, Large Chests, Category Chests, Trishops, Equipment Barrels, Lunar Pods</li>
<li><strong>Barrels</strong> - Money Barrels</li>
<li><strong>Shrines</strong> - Shrine of Combat, Woods, Blood, Chance, Order, Mountain</li>
<li><strong>Drones</strong> - Healing Drones, Emergency Drones, Gunner Drones, etc.</li>
<li><strong>Misc</strong> - Gunner Turret</li>
<li><strong>Rare</strong> - Shrine of Gold, Radar Tower, Cloaked Chest, Legendary Chest</li>
<li><strong>Duplicator</strong> - Printers and Scrapper</li>
<li><strong>Void Stuff</strong> (Only Present in DLC1 DCCS) - Void Cradle and Void Seed</li>
</ul>
<p>After filling out your DCCS you only have to figure out how your stage's log will be unlocked. You will first need to create an <code>UnlockableDef</code> by right clicking in the project field &gt; <code>Create</code> &gt; <code>RoR2</code> &gt; <code>UnlockableDef</code>. Then, you will want base the name of your Unlock Def after this naming scheme:</p>
<ul>
<li><code>Logs.Stages.</code><em>Internal Stage Name</em></li>
</ul>
<p>For example, Abyssal Depth's logbook unlock is named <code>Logs.Stages.dampcavesimple</code>. For Waffle House its <code>Logs.Stages.waffle_wafflehouse</code>.</p>
<p>Afterwards, you will want to set up your Unlock Def like this:</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/3041693a-0ba8-47f5-a673-739c2bf54637" /></p>
<p>Note that the <code>Name Token</code> field is the token for the text that appears when you unlock the Stage log entry.</p>
<p>Now you need to choose the condition your log book entry unlocks under. Realistically, you can unlock the stage's logbook entry under any condition like any other Unlockable. However, the game only uses two ways to unlock the stage log entry:</p>
<ul>
<li>Radio Tower - Used for stages in the loop.</li>
<li>Logbook Pickup - Used for hidden realms, and the final stage.</li>
</ul>
<p>If you want to use the Radio Tower, all you need to do is attach your Unlock Def to the <code>Forbidden Unlockable Def</code> field under the Radio Tower entry. Again, right click the context menu to use direct reference.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/f80cc0db-d1f5-4fe1-9bdc-01e0397d6e66" /></p>
<p>If you want to use the Logbook Pickup, it is a bit tricky since you will not only need to instantiate the prefab into the scene, but you will also need to populate all the values into the pickup so it unlocks the stage log entry. The good news is that, if you are using LoP, you can use the <code>Instantiate Logbook Prefab</code> component to easily create the pickup. The component comes with fields to populate the <code>Display Name Token</code> and <code>Display Name Token</code> (the <code>Display Name Token</code> should be the same as the one in the Unlockable Def). The component also comes with the <code>Enable Gravity</code> boolean and a <code>Velocity Random On Start</code> component. Both of these will help assist customizing the movement of your pickup. Another feature of the component is the purple outline that signifies the pickup's position and orientation. This should help aid in your placement of the pickup.</p>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/cb4382bd-40f6-4153-8992-9cc5c7685041" /></p>
<p>After this, your DCCS and DP should be ready to be implemented into your scene. To do this, you will just need to attach the interactable and monster DPs into the <code>Interactable Dccs Pool</code> and <code>Monster Dccs Pool</code> fields in your Classic Stage Info.</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/e0353fc8-7508-4907-ac5d-0cb1d0a24e26" /></p>
<p>With that, your stage should be fully functioning by now. However, there are still more topics to help improve your stages.</p>
<h2 id="music_1">Music</h2>
<p>This section assumes that you use Jace's scripts for setting up the stage used in WaffleHouse. </p>
<p>Despite the fact that we use Thunderkit to create both assembly and asset bundles, we actually don't need to integrate Wwise into our project. While we can make Wwise integration to work (and I've successfully done it pre SoTS) the problems arive when 1. you want to pass the project to someone else and it's a giant pain to integrate Wwise and 2. when DLC comes out and Unity version gets changed, you not only will have to fix your thunderkit integration, you will also have to fix your Wwise integration. So instead we are going to do it in code.</p>
<p>Forst thing first, follow this <a href="https://risk-of-thunder.github.io/R2Wiki/Mod-Creation/Assets/Sounds/WWise/Custom-Music/">guide</a> to get a Wwise project going. After generating soundbanks note State Group ID for your custom <code>gameplaySongChoice</code> and State IDs for your main and boss songs. </p>
<p>First we need to register our custom <code>Play_Music_System</code> to the game's <code>AkSoundEngine</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>private void Awake()
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>{
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    ...
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    On.RoR2.MusicController.Start += MusicController_Start;
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    ...
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>}
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>private void MusicController_Start(On.RoR2.MusicController.orig_Start orig, MusicController self)
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>{
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>    orig(self);
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>    AkSoundEngine.PostEvent(&quot;Play_Music_System2&quot;, self.gameObject);
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>}   
</code></pre></div>
<p>This ensures that events are registered within the game and they will fire when needed.</p>
<p>Next, we need to load soundbanks with the sound engine. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>internal const string SoundBankFileName = &quot;WaffleHouseMusic.bnk&quot;;
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>internal const string InitSoundBankFileName = &quot;WaffleHouseInit.bnk&quot;;
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>internal const string SoundbankFolder = &quot;Soundbanks&quot;;
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>public IEnumerator LoadStaticContentAsync(LoadStaticContentAsyncArgs args)
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>{
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    ...
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    var musicFolderFullPath = Path.Combine(Path.GetDirectoryName(typeof(ContentProvider).Assembly.Location), SoundbankFolder);
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    var akResult = AkSoundEngine.AddBasePath(soundbanksFolderPath);
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    if (akResult == AKRESULT.AK_Success)
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>    {
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>        Log.Info($&quot;Added bank base path : {soundbanksFolderPath}&quot;);
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>    }
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>    else
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>    {
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>        Log.Error(
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>            $&quot;Error adding base path : {soundbanksFolderPath} &quot; +
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>            $&quot;Error code : {akResult}&quot;);
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>    }
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>    akResult = AkSoundEngine.LoadBank(InitSoundBankFileName, out var _);
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>    if (akResult == AKRESULT.AK_Success)
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>    {
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>        Log.Info($&quot;Added bank : {InitSoundBankFileName}&quot;);
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>    }
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>    else
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>    {
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>        Log.Error(
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>            $&quot;Error loading bank : {InitSoundBankFileName} &quot; +
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>            $&quot;Error code : {akResult}&quot;);
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>    }
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>    akResult = AkSoundEngine.LoadBank(SoundBankFileName, out var _);
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a>    if (akResult == AKRESULT.AK_Success)
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a>    {
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a>        Log.Info($&quot;Added bank : {SoundBankFileName}&quot;);
<a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a>    }
<a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>    else
<a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a>    {
<a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a>        Log.Error(
<a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a>            $&quot;Error loading bank : {SoundBankFileName} &quot; +
<a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a>            $&quot;Error code : {akResult}&quot;);
<a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a>    }
<a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a>    ...
<a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a>}
</code></pre></div>
<p>And finally we need to fill <code>mainTrack</code> and <code>bossTrack</code> of our <code>StageDef</code>. We are gonna use <code>SoundAPI</code>'s <code>CustomMusicTrackDef</code> for that, since it allows us to just fill the ids and API will do the rest.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>internal static IEnumerator LoadAssetBundlesAsync(AssetBundle scenesAssetBundle, AssetBundle assetsAssetBundle, IProgress&lt;float&gt; progress, ContentPack contentPack)
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>{
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    ...
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    var mainCustomTrack = ScriptableObject.CreateInstance&lt;SoundAPI.Music.CustomMusicTrackDef&gt;();
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    mainCustomTrack.cachedName = &quot;WaffleHouseCustomMainMusic&quot;;
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    mainCustomTrack.CustomStates = new List&lt;SoundAPI.Music.CustomMusicTrackDef.CustomState&gt;();
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    var cstate1 = new SoundAPI.Music.CustomMusicTrackDef.CustomState();
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    cstate1.GroupId = 487602916U; // gathered from the MOD&#39;s Init bank txt file
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    cstate1.StateId = 145640315U; // gathered from the MOD&#39;s Init bank txt file
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    mainCustomTrack.CustomStates.Add(cstate1);
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>    var cstate2 = new SoundAPI.Music.CustomMusicTrackDef.CustomState();
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    cstate2.GroupId = 792781730U; // gathered from the GAME&#39;s Init bank txt file
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>    cstate2.StateId = 89505537U; // gathered from the GAME&#39;s Init bank txt file
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    mainCustomTrack.CustomStates.Add(cstate2);
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>    WHSceneDef.mainTrack = mainCustomTrack;
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>    var bossCustomTrack = ScriptableObject.CreateInstance&lt;SoundAPI.Music.CustomMusicTrackDef&gt;();
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>    bossCustomTrack.cachedName = &quot;WaffleHouseCustomBossMusic&quot;;
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>    bossCustomTrack.CustomStates = new List&lt;SoundAPI.Music.CustomMusicTrackDef.CustomState&gt;();
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>    var cstate11 = new SoundAPI.Music.CustomMusicTrackDef.CustomState();
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>    cstate11.GroupId = 487602916U; // gathered from the MOD&#39;s Init bank txt file
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>    cstate11.StateId = 3403129731U; // gathered from the MOD&#39;s Init bank txt file
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>    bossCustomTrack.CustomStates.Add(cstate11);
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>    var cstate12 = new SoundAPI.Music.CustomMusicTrackDef.CustomState();
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>    cstate12.GroupId = 792781730U; // gathered from the GAME&#39;s Init bank txt file
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>    cstate12.StateId = 580146960U; // gathered from the GAME&#39;s Init bank txt file
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>    bossCustomTrack.CustomStates.Add(cstate12);
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>    WHSceneDef.bossTrack = bossCustomTrack;
<a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>    // Don&#39;t forget to comment loading and assigning of game&#39;s tracks if you have them!
<a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a>    ...
<a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a>}
</code></pre></div>
Note the second pair of ids, this <a href="https://risk-of-thunder.github.io/R2Wiki/Mod-Creation/Assets/Sounds/WWise/Custom-Music/">page</a> at the bottom gives an explanation of what those ids are and how to fill them appropriately for each track.</p>
<p>After all this you should have custom music working within the game. </p>
<p>If you want to get music state to change after you finish charging the teleporter, like how vanilla tracks have exit cues when you charge it and then it goes to silence, you can do this the following way:</p>
<ul>
<li>
<p>Add new game sync called "bossStatus" and add two states to it: "alive" and "dead'.</p>
<p><img alt="image" src="https://github.com/user-attachments/assets/f9af5abe-6281-4857-be02-71d6b9cc3d02" /></p>
</li>
<li>
<p>Select your BossSongChoice and in "Music Switch" tab add "bossStatus" as State Group.</p>
<p><img alt="image" src="https://github.com/user-attachments/assets/c1511783-3e87-4294-ba39-342d17e8766a" /></p>
</li>
<li>
<p>Now select your boss track in your gameplaySondChoice and select either alive or dead. Make sure both are highlighted, right click and select "Add Path". This will add your gameplaySondChoice state and bossStatus state as path in the table below. Do that for both alive and dead states, so you get the following result.</p>
<p><img alt="image" src="https://github.com/user-attachments/assets/8cb20aff-6219-486c-8139-2c5c6c25ddc7" /></p>
</li>
<li>
<p>Now assign track for each of the paths. alive path will play during teleporter event, while its charging and dead will play after its fully charged. You should get it to look something like this.</p>
<p><img alt="image" src="https://github.com/user-attachments/assets/be7c45b5-9813-4eb0-808d-cd6fe76f8991" /></p>
</li>
<li>
<p>If it fails to switch to dead state (or it happens after boss music makes a loop), read the next part.</p>
</li>
</ul>
<p>However, there might be an issue of custom music continuing to play after you switch stages. You can solve this by selecting your Music Switch Container, select Transitions tab, select the default transition that it has and below the list change "Exit source at" to "Immediate".</p>
<p><img alt="image" src="https://github.com/user-attachments/assets/245bfcc0-424f-46b8-89e4-9cdfcae3cde1" /></p>
<p>You can (and probably should) do this for both BossSongChoice and GameplaySongChoice containers.</p>
<h2 id="optimization">Optimization</h2>
<p>Optimization is <strong>extremely</strong> important to making your stage accessible to players. Currently, this topic isn't as fleshed out as I (JaceDaDorito) want it to be. Please, if you have any good information about stage optimization, message me @JaceDaDorito on discord and I will add it here. That being said, I will present what I know.</p>
<p><strong>Keep track of your polygon count!</strong> Especially on the stage's main terrain. As said earlier, you do not want the stage's collision to have condensed polygons. Not only that but higher polygon counts will drop framerate. If it helps, Fogbound Lagoon's main terrain has about 24k Triangles and 12k Verticies. Don't take this as golden rule though.</p>
<p><strong>Keep track of visual effects and light sources!</strong> A lot of tiny light sources can easily destroy framerate, make sure to condense them into bigger light sources. Make sure to use LODs on objects that need to be disabled with lower graphics settings (like grass).</p>
<p><strong>Occlusion Culling</strong> allows you to "turn off" scene objects out of view. These videos go into great detail of how it works. For reference, Fogbound Lagoon uses a <code>Backface Threshold</code> of 90, but it isn't known if that is the actual value RoR2 stages use. Putting <code>Backface Threshold</code> on 100 will make scene objects flash rapidly if the player camera is put against collision (like if you are looking straight up). If you find the "perfect" <code>Backface Threshold</code> value, let me know.</p>
<p>https://www.youtube.com/watch?v=DoHPx5RQ7P4</p>
<p>https://www.youtube.com/watch?v=hv2CUi2eeBY</p>
<h2 id="visuals">Visuals</h2>
<p>This tutorial may detail visuals later down the line but it isn't important to making your stage function. However, LoP has the <code>ShaderSwap</code> class where you can feed a material into <code>ConvertShader</code> and it will swap stubbed shaders for the real shader. You can get the stubbed shaders here:</p>
<p>https://github.com/risk-of-thunder/RoR2StubbedShaders</p>
<p>Other than that, study how the base game implements its visuals.</p>
<h2 id="inspecting-vanilla-stages-in-unity">Inspecting Vanilla Stages in Unity</h2>
<p>There is a simple way to view vanilla RoR2 stages in editor and it makes it very easy to disect them. The directions are in the screenshot present below:</p>
<p><img alt="image-1" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/de8ca218-ea88-421a-967a-c3143f6e7209" /></p>
<p>Line mentioned in screenshot:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>&quot;com.passivepicasso.thunderkit&quot;: &quot;https://github.com/PassivePicasso/ThunderKit.git#1aeb51e18e41f65801f49f7ed290de5f54a90ebb&quot;,
</code></pre></div>
<p><img alt="image" src="https://github.com/risk-of-thunder/R2Wiki/assets/66852270/b199bd72-5557-47d1-ad8e-1c5a3c7ad98c" /></p>
<h2 id="credits">Credits</h2>
<ul>
<li><strong>JaceDaDorito</strong> - Wrote this documentation, made LoP, made R2API.Stages, and lead person pushing for easier stage making.</li>
<li><strong>Viliger</strong> - added music section, don't message Jace about it pls.</li>
<li><strong>IDeathHD</strong> - Helped get this started with initial code and general advice.</li>
<li><strong>Nebby</strong> - Helped create and clean code. Implemented a lot of the utilities detailed here into RoR2EditorKit and R2API.</li>
<li><strong>GrooveSalad</strong> - Made initial addressable DCCS/DP implementation, made cleaner stubbed shaders, and gave a lot of advice.</li>
<li><strong>TeamMoonstorm</strong> - General feedback and guinea pig for a lot of these utilities.</li>
<li><strong>Nerd Head</strong> - Videos linked about Occlusion Culling.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.indexes", "navigation.top", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>